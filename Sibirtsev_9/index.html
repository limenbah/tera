<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Формы в React</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>
    <style>
body {
background-color: #4d4b49;
}
.filters {
    float: left;
    margin: 10px;
    border-radius: 5px;
    background-color: #a3a2a1;
    float: left; /*позиция блока*/
    width: 250px; /*ширина*/
    padding: 1%; /*внутренние отступы*/
    height: 100vh; /*высота 100% высаты экрана */
  }
  
  .price-input {
    width: 70px;
  }
  
  .size {
    display: block;
    margin: 10px;
    
  }
  
  .good {
    margin: 10px;
    float: left;
    text-align: center;
    border-radius: 10px;
    background-color: white
  }
  .good img {
    width: 150px;
    height: 200px;
    margin: 10px;
  }
  .carousel-inner{
    width: 100%;
    height: 500px;
    margin: 10px;
  }

    
    
        </style>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <a class="navbar-brand" href="#">Navbar</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
      
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
              <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Link</a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Dropdown
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" href="#">Action</a>
                <a class="dropdown-item" href="#">Another action</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="#">Something else here</a>
              </div>
            </li>
            <li class="nav-item">
              <a class="nav-link disabled" href="#">Disabled</a>
            </li>
          </ul>
          <form class="form-inline my-2 my-lg-0">
            <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
            <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
          </form>
        </div>
      </nav>


  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  
  <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
      <ol class="carousel-indicators">
          <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
          <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
          <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
      </ol>
      <div class="carousel-inner">
          <div class="carousel-item active">
              <img class="d-block w-100" src="https://systema-markirovki.ru/wp-content/uploads/2020/05/markirovka-odezhdy.jpg" alt="First slide">
              <div class="carousel-caption d-none d-md-block">
              </div>
          </div>
          <div class="carousel-item">
              <img class="d-block w-100" src="https://onlinetkani.ru/image/catalog/BLOG%20i%20novosti/%D0%BE%D0%B4%D0%B5%D0%B6%D0%B4%D0%B0%20%D0%BF%D0%BE%D1%81%D0%BB%D0%B5%20%D1%81%D1%82%D0%B8%D1%80%D0%BA%D0%B8.jpg" alt="Second slide">
          </div>
          <div class="carousel-item">
              <img class="d-block w-100" src="https://img2.voenpro.ru/images/magaziny-odezhdy-v-irkutske-1.jpg" alt="Third slide">
          </div>
      </div>
      <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
      </a>
  </div>

    <div id="app"></div>

    <script crossorigin src="https://unpkg.com/react@16/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.25.0/babel.min.js"></script>

    <script type="text/babel" >
        const Block = ({ HeaderTag = 'h2', headerText, className = '', children }) => (
    <div className={className}>
      <HeaderTag>{headerText}</HeaderTag>
      {children}
    </div>
  );
  
  const CountryFilter = ({ value, onChange, countries }) => (
    <Block headerText="Country" >
      <select onChange={onChange} value={value} class="form-select">
        <option value="">-- Country --</option>
        {countries.map(n => <option key={n}>{n}</option>)}
      </select>
    </Block>
  );
  
  const SizeFilter = ({ value, onChange, sizes }) => (
    <Block headerText="Size">
      {sizes.map(n => (
        <label className="size" key={n}>
          <input
            type="checkbox"
            value={n}
            class="form-check"
            checked={value.includes(n)}
            onChange={onChange}
          />
          {n}
        </label>
      ))}
    </Block>
  );
  
  const PriceInput = ({ index, ...props }) => (
    <input className="price-input" data-index={index} {...props} />
  );
  
  const PriceFilter = ({ value, onChange }) => (
    <Block headerText="Price" class="input-group-text">
      <PriceInput value={value[0]} onChange={onChange} index="0" />
      &nbsp;-&nbsp;
      <PriceInput value={value[1]} onChange={onChange} index="1" />
      &nbsp;usd&nbsp;
    </Block>
  );
  
  const GoodsList = ({ goods }) => (
    <div>
      {goods.map(n => (
        <Block className="good" HeaderTag="h3" headerText={n.name} key={n.id}>
          <img src={n.image} />
          <p>Цена: {n.cost}</p>
          <button data-art={n.name} class = "btn btn-warning">Купить</button>
        </Block>
      ))}
    </div>
  );
  
  const App = ({ goods }) => {
    const countries = React.useMemo(() => [...new Set(goods.map(n => n.country))], [ goods ]);
    const sizes = React.useMemo(() => [...new Set(goods.map(n => n.size))], [ goods ]);
  
    const [ country, setCountry ] = React.useState('');
    const [ size, setSize ] = React.useState([]);
    const [ price, setPrice ] = React.useState([ '', '' ]);
  
    const onCountryChange = e => setCountry(e.target.value);
    const onSizeChange = ({ target: { checked, value } }) => {
      setSize((!size.includes(value) && checked)
        ? [ ...size, value ]
        : size.filter(n => n !== value)
      );
    };
    const onPriceChange = ({ target: { value, dataset: { index } } }) => {
      setPrice(price.map((n, i) => i === +index ? value : n));
    };
  
    const filteredGoods = goods.filter(n => (
      (!country || n.country === country) &&
      (!size.length || size.includes(n.size)) &&
      (!price[0] || price[0] <= n.cost) &&
      (!price[1] || price[1] >= n.cost)
    ));
  
    return (
      <div>
        <div className="filters">
          <CountryFilter value={country} onChange={onCountryChange} countries={countries} />
          <SizeFilter value={size} onChange={onSizeChange} sizes={sizes} />
          <PriceFilter value={price} onChange={onPriceChange} />
        </div>
        <GoodsList goods={filteredGoods} />
      </div>
    );
  }
  
  const DATA = [
    {
      "sex" : "male",
      "name" : "Рубашка",
      "cost" : 1000,
      "country" : "France",
      "image" : "http://i.piccy.info/i9/9921ed03bf45751d45447b15e78be751/1566814909/19890/1334636/1.jpg",
      "size": "S"
    },
    {
      "sex" : "male",
      "name" : "Рубашка",
      "cost" : 1200,
      "country" : "Turkey",
      "image" : "http://i.piccy.info/i9/acc4df9b14e48a42d7cd353e923673e7/1566814962/22015/1334636/2.jpg",
      "size": "M"
    },
    {
      "sex" : "male",
      "name" : "Рубашка",
      "cost" : 1700,
      "country" : "China",
      "image" : "http://i.piccy.info/i9/174610be67bfea39f99c956885ae3786/1566815027/25896/1334636/3.jpg",
      "size": "L"
    },
    {
      "sex" : "male",
      "name" : "Рубашка",
      "cost" : 999,
      "country" : "Russia",
      "image" : "http://i.piccy.info/i9/e2e5c6cb274121b9898b7d45a085130f/1566815049/29582/1334636/4.jpg",
       "size": "XL"
    },
    {
      "sex" : "male",
      "name" : "Рубашка",
      "cost" : 2000,
      "country" : "USA",
      "image" : "https://823392.ssl.1c-bitrix-cdn.ru/upload/iblock/713/71393cebf961076871a784ad2b44890c.jpg?15825804501502061",
       "size": "M"
    },
    {
      "sex" : "male",
      "name" : "Рубашка",
      "cost" : 3500,
      "country" : "Bangladesh",
      "image" : "https://823392.ssl.1c-bitrix-cdn.ru/upload/iblock/2b1/2b1130c3060a06079cfd823fceea2938.jpg?15825806341276066",
       "size": "L"
    },
    {
      "sex" : "male",
      "name" : "Рубашка",
      "cost" : 4600,
      "country" : "Russia",
      "image" : "https://823392.ssl.1c-bitrix-cdn.ru/upload/iblock/d55/d55db33b44e6a00db9ee9138fdc3999f.jpg?15825806322488759",
       "size": "XL"
    },
    {
      "sex" : "male",
      "name" : "Рубашка",
      "cost" : 1200,
      "country" : "Bangladesh",
      "image" : "https://823392.ssl.1c-bitrix-cdn.ru/upload/iblock/e81/e81d3a1da6601304db10a08f0ecac406.jpg?1608547246850872",
       "size": "XXL"
    },
    {
      "sex" : "male",
      "name" : "Рубашка",
      "cost" : 2300,
      "country" : "Turkey",
      "image" : "https://823392.ssl.1c-bitrix-cdn.ru/upload/iblock/b11/b110d35a21e8a564e36b3abce81c1f8c.jpg?16104599801154082",
       "size": "XL"
    },
    {
      "sex" : "male",
      "name" : "Рубашка",
      "cost" : 1500,
      "country" : "USA",
      "image" : "https://823392.ssl.1c-bitrix-cdn.ru/upload/iblock/9cd/9cdd13dca624750bdd051ed5df3b4de8.jpg?15884308601146831",
       "size": "XXL"
    },
    {
      "sex" : "male",
      "name" : "Рубашка",
      "cost" : 5600,
      "country" : "France",
      "image" : "https://storage-cdn5.gloria-jeans.ru/medias/BSU000051-2-01-300Wx300H.jpg?context=bWFzdGVyfHByb2R1Y3R8MTUzNzl8aW1hZ2UvanBlZ3xoODAvaDkxLzkyMjY2NDI0MjM4MzgvQlNVMDAwMDUxLTItMDEtMzAwV3gzMDBILmpwZ3xlNzg5NTc4YmNlZmY1NmRjMDZmNDllMGU3ZGYwZGIzNGRjZDZmODBjOGQxZjFhYjYzYzc0MTEzOWNmNzJiNDNl",
       "size": "XXL"
    },
    {
      "sex" : "male",
      "name" : "Пиджак",
      "cost" : 1900,
      "country" : "Russia",
      "image" : "https://img1.wbstatic.net/big/new/6210000/6215483-1.jpg",
       "size": "XL"
    },
    {
      "sex" : "male",
      "name" : "Пиджак",
      "cost" : 7400,
      "country" : "USA",
      "image" : "https://www.tizgroup.ru/images/cms/data/blestyawij_pidzhak1.jpg",
       "size": "L"
    },
    {
      "sex" : "male",
      "name" : "Футболка",
      "cost" : 5400,
      "country" : "Russia",
      "image" : "https://cdn83.printdirect.ru/cache/item/8e/29/25-300s300-front-0-0.jpg",
       "size": "XXL"
    },
    {
      "sex" : "male",
      "name" : "Футболка",
      "cost" : 2800,
      "country" : "Turkey",
      "image" : "http://vans.ru/upload/resize_cache/iblock/2c9/700_700_0/2c994739d80abc0b01b61e877d76c58f.jpg",
       "size": "M"
    },
    {
      "sex" : "male",
      "name" : "Футболка",
      "cost" : 6900,
      "country" : "Turkey",
      "image" : "https://cdn.finnflare.com/upload/resize_cache/full_size/S21/201/454_700_2/S21-22016_201_20.jpg?cdn=1622206530",
       "size": "S"
    },
    {
      "sex" : "male",
      "name" : "Футболка",
      "cost" : 2300,
      "country" : "Bangladesh",
      "image" : "https://static8.bosco.ru/upload/iblock/5de/5de32d1c4cb27710cb66f79176b90fbe_468_615.jpg",
       "size": "S"
    },
    {
      "sex" : "male",
      "name" : "Куртка",
      "cost" : 6400,
      "country" : "Bangladesh",
      "image" : "https://static.rendez-vous.ru/files/catalog_models/2454181_kurtka_tommy_jeans_dm0dm09509_temno_siniy_poliamid.JPG",
       "size": "M"
    },
    {
      "sex" : "male",
      "name" : "Куртка",
      "cost" : 9700,
      "country" : "USA",
      "image" : "https://www.professionalsport.ru/spree/products/000/196/715/original/asics_future_tokyo_jacket_w_2012b182_100_(1).jpg?1616139454",
       "size": "S"
    },
    {
      "sex" : "male",
      "name" : "Куртка",
      "cost" : 8000,
      "country" : "China",
      "image" : "https://kruzhok.store/images/content/img_5269.jpg",
       "size": "L"
    }
  ].map((n, i) => ({ ...n, id: i + 1 }));
  
  ReactDOM.render(<App goods={DATA} />, document.getElementById('app'));
  
    </script>
</body>
</html>

